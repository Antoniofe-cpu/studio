{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/watch-card.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const WatchCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call WatchCard() from the server but WatchCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/watch-card.tsx <module evaluation>\",\n    \"WatchCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,YAAY,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,+DACA","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/watch-card.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const WatchCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call WatchCard() from the server but WatchCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/watch-card.tsx\",\n    \"WatchCard\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,YAAY,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,2CACA","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/firebase/config.ts"],"sourcesContent":["\nimport { initializeApp, getApps, getApp, type FirebaseApp } from 'firebase/app';\nimport { getAuth, type Auth } from 'firebase/auth';\nimport { getFirestore, type Firestore } from 'firebase/firestore';\n\n// Construct Firebase configuration from environment variables\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\n};\n\n// Validate that all required Firebase config values are present\nif (\n  !firebaseConfig.apiKey ||\n  !firebaseConfig.authDomain ||\n  !firebaseConfig.projectId ||\n  !firebaseConfig.storageBucket ||\n  !firebaseConfig.messagingSenderId ||\n  !firebaseConfig.appId\n) {\n  console.error(\n    'Firebase configuration is incomplete. Please check your .env file and ensure all NEXT_PUBLIC_FIREBASE_ variables are set.'\n  );\n}\n\n\n// Initialize Firebase\nlet app: FirebaseApp;\nif (!getApps().length) {\n  app = initializeApp(firebaseConfig);\n} else {\n  app = getApp(); // Use getApp() if already initialized\n}\n\nconst auth: Auth = getAuth(app);\nconst db: Firestore = getFirestore(app);\n\nexport { app, auth, db };\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,8DAA8D;AAC9D,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,gEAAgE;AAChE,IACE,CAAC,eAAe,MAAM,IACtB,CAAC,eAAe,UAAU,IAC1B,CAAC,eAAe,SAAS,IACzB,CAAC,eAAe,aAAa,IAC7B,CAAC,eAAe,iBAAiB,IACjC,CAAC,eAAe,KAAK,EACrB;IACA,QAAQ,KAAK,CACX;AAEJ;AAGA,sBAAsB;AACtB,IAAI;AACJ,IAAI,CAAC,CAAA,GAAA,oLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,EAAE;IACrB,MAAM,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE;AACtB,OAAO;IACL,MAAM,CAAA,GAAA,oLAAA,CAAA,SAAM,AAAD,KAAK,sCAAsC;AACxD;AAEA,MAAM,OAAa,CAAA,GAAA,yOAAA,CAAA,UAAO,AAAD,EAAE;AAC3B,MAAM,KAAgB,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/firebase/firestore-service.ts"],"sourcesContent":["\nimport { collection, getDocs, query, orderBy, Timestamp } from 'firebase/firestore';\nimport { db } from './config';\nimport type { WatchDeal, DealLabel } from '@/lib/types';\n\nconst COLLECTION_NAME = 'deals'; \n\nexport async function getWatchDealsFromFirestore(): Promise<WatchDeal[]> {\n  try {\n    console.log(`Fetching data from '${COLLECTION_NAME}' collection, ordering by aiScore desc...`);\n    const dealsCollectionRef = collection(db, COLLECTION_NAME);\n    const q = query(dealsCollectionRef, orderBy('aiScore', 'desc'));\n    \n    const querySnapshot = await getDocs(q);\n    \n    if (querySnapshot.empty) {\n      console.log(\"No documents found in the collection.\");\n      return [];\n    }\n\n    const deals: WatchDeal[] = querySnapshot.docs.map((doc) => {\n      const data = doc.data();\n      \n      let lastUpdatedString: string;\n      if (data.lastUpdated instanceof Timestamp) {\n        lastUpdatedString = data.lastUpdated.toDate().toISOString();\n      } else if (typeof data.lastUpdated === 'string') {\n        lastUpdatedString = data.lastUpdated;\n      } else if (typeof data.lastUpdated === 'object' && data.lastUpdated?.seconds) {\n        lastUpdatedString = new Date(data.lastUpdated.seconds * 1000).toISOString();\n      } else {\n        lastUpdatedString = new Date().toISOString();\n      }\n\n      const deal: WatchDeal = {\n        id: doc.id,\n        imageUrl: data.imageUrl || 'https://placehold.co/600x450.png', // Default placeholder\n        brand: data.brand || 'Unknown Brand',\n        model: data.model || 'Unknown Model',\n        referenceNumber: data.referenceNumber || 'N/A',\n        listingPrice: typeof data.listingPrice === 'number' ? data.listingPrice : 0,\n        marketPrice: typeof data.marketPrice === 'number' ? data.marketPrice : 0,\n        retailPrice: typeof data.retailPrice === 'number' ? data.retailPrice : undefined,\n        estimatedMarginPercent: typeof data.estimatedMarginPercent === 'number' ? data.estimatedMarginPercent : 0,\n        aiScore: typeof data.aiScore === 'number' ? data.aiScore : 0,\n        dealLabel: (data.dealLabel as DealLabel) || 'üëç OK', // Ensure it's a valid DealLabel\n        tags: Array.isArray(data.tags) ? data.tags : [],\n        sourceUrl: data.sourceUrl || '#',\n        description: data.description || '',\n        condition: data.condition || undefined,\n        demand: data.demand,\n        rarity: data.rarity,\n        risk: data.risk,\n        location: data.location,\n        lastUpdated: lastUpdatedString,\n      };\n      // Validate dealLabel\n      const validDealLabels: DealLabel[] = ['üî• Affare', 'üëç OK', '‚ùå Fuori Prezzo'];\n      if (!validDealLabels.includes(deal.dealLabel)) {\n        deal.dealLabel = 'üëç OK'; // Default to a valid label if fetched one is invalid\n      }\n      return deal;\n    });\n\n    console.log(`Successfully fetched and mapped ${deals.length} deals.`);\n    return deals;\n  } catch (error) {\n    console.error(\"Error fetching watch deals from Firestore:\", error);\n    // In a production app, you might want to throw the error or handle it more gracefully\n    return []; // Return an empty array or throw error\n  }\n}\n"],"names":[],"mappings":";;;AACA;AAAA;AACA;;;AAGA,MAAM,kBAAkB;AAEjB,eAAe;IACpB,IAAI;QACF,QAAQ,GAAG,CAAC,CAAC,oBAAoB,EAAE,gBAAgB,yCAAyC,CAAC;QAC7F,MAAM,qBAAqB,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE,gIAAA,CAAA,KAAE,EAAE;QAC1C,MAAM,IAAI,CAAA,GAAA,iKAAA,CAAA,QAAK,AAAD,EAAE,oBAAoB,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAE,WAAW;QAEvD,MAAM,gBAAgB,MAAM,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAE;QAEpC,IAAI,cAAc,KAAK,EAAE;YACvB,QAAQ,GAAG,CAAC;YACZ,OAAO,EAAE;QACX;QAEA,MAAM,QAAqB,cAAc,IAAI,CAAC,GAAG,CAAC,CAAC;YACjD,MAAM,OAAO,IAAI,IAAI;YAErB,IAAI;YACJ,IAAI,KAAK,WAAW,YAAY,iKAAA,CAAA,YAAS,EAAE;gBACzC,oBAAoB,KAAK,WAAW,CAAC,MAAM,GAAG,WAAW;YAC3D,OAAO,IAAI,OAAO,KAAK,WAAW,KAAK,UAAU;gBAC/C,oBAAoB,KAAK,WAAW;YACtC,OAAO,IAAI,OAAO,KAAK,WAAW,KAAK,YAAY,KAAK,WAAW,EAAE,SAAS;gBAC5E,oBAAoB,IAAI,KAAK,KAAK,WAAW,CAAC,OAAO,GAAG,MAAM,WAAW;YAC3E,OAAO;gBACL,oBAAoB,IAAI,OAAO,WAAW;YAC5C;YAEA,MAAM,OAAkB;gBACtB,IAAI,IAAI,EAAE;gBACV,UAAU,KAAK,QAAQ,IAAI;gBAC3B,OAAO,KAAK,KAAK,IAAI;gBACrB,OAAO,KAAK,KAAK,IAAI;gBACrB,iBAAiB,KAAK,eAAe,IAAI;gBACzC,cAAc,OAAO,KAAK,YAAY,KAAK,WAAW,KAAK,YAAY,GAAG;gBAC1E,aAAa,OAAO,KAAK,WAAW,KAAK,WAAW,KAAK,WAAW,GAAG;gBACvE,aAAa,OAAO,KAAK,WAAW,KAAK,WAAW,KAAK,WAAW,GAAG;gBACvE,wBAAwB,OAAO,KAAK,sBAAsB,KAAK,WAAW,KAAK,sBAAsB,GAAG;gBACxG,SAAS,OAAO,KAAK,OAAO,KAAK,WAAW,KAAK,OAAO,GAAG;gBAC3D,WAAW,AAAC,KAAK,SAAS,IAAkB;gBAC5C,MAAM,MAAM,OAAO,CAAC,KAAK,IAAI,IAAI,KAAK,IAAI,GAAG,EAAE;gBAC/C,WAAW,KAAK,SAAS,IAAI;gBAC7B,aAAa,KAAK,WAAW,IAAI;gBACjC,WAAW,KAAK,SAAS,IAAI;gBAC7B,QAAQ,KAAK,MAAM;gBACnB,QAAQ,KAAK,MAAM;gBACnB,MAAM,KAAK,IAAI;gBACf,UAAU,KAAK,QAAQ;gBACvB,aAAa;YACf;YACA,qBAAqB;YACrB,MAAM,kBAA+B;gBAAC;gBAAa;gBAAS;aAAiB;YAC7E,IAAI,CAAC,gBAAgB,QAAQ,CAAC,KAAK,SAAS,GAAG;gBAC7C,KAAK,SAAS,GAAG,SAAS,qDAAqD;YACjF;YACA,OAAO;QACT;QAEA,QAAQ,GAAG,CAAC,CAAC,gCAAgC,EAAE,MAAM,MAAM,CAAC,OAAO,CAAC;QACpE,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8CAA8C;QAC5D,sFAAsF;QACtF,OAAO,EAAE,EAAE,uCAAuC;IACpD;AACF","debugId":null}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx"],"sourcesContent":["\n// Remove 'use client' - this is now a Server Component\n// import { useState, useEffect } from 'react'; // No longer needed for fetching\nimport type { WatchDeal } from '@/lib/types';\nimport { WatchCard } from '@/components/watch-card';\n// import { Button } from '@/components/ui/button'; // Removed for now\n// import { Input } from '@/components/ui/input'; // Removed for now\n// import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'; // Removed for now\n// import { Filter, ListRestart, Search, Loader2, AlertTriangle } from 'lucide-react'; // Removed for now\nimport { getWatchDealsFromFirestore } from '@/lib/firebase/firestore-service';\n\n// The page becomes an async Server Component\nexport default async function HomePage() {\n  // Data is fetched on the server before the page is sent to the client.\n  const deals: WatchDeal[] = await getWatchDealsFromFirestore();\n\n  return (\n    <div className=\"space-y-8\">\n      <section className=\"text-center py-8 bg-card rounded-lg shadow-md\">\n        <h1 className=\"text-4xl font-bold font-headline text-primary mb-2\">WatchFinder AI</h1>\n        <p className=\"text-xl text-muted-foreground\">\n          Trova il vero affare. Ogni giorno. Analisi di mercato e suggerimenti intelligenti.\n        </p>\n      </section>\n\n      <section className=\"p-4 sm:p-6 bg-card rounded-lg shadow-md\">\n        {/* \n          The client-side search, sort, and filter controls have been removed for this SSR implementation.\n          We can discuss re-adding them using Server Actions or client components that interact with the server-rendered list.\n        */}\n        <h2 className=\"text-2xl font-semibold mb-6 text-center\">Live Deals from Firestore</h2>\n        \n        {deals.length > 0 ? (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {deals.map((deal) => (\n              <WatchCard key={deal.id} deal={deal} />\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-10\">\n            <p className=\"text-xl text-muted-foreground\">\n              No deals found in the database at the moment.\n            </p>\n            <p className=\"text-sm text-muted-foreground\">\n              Try running the Python scraper to populate Firestore, or check back later.\n            </p>\n          </div>\n        )}\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AACA,uDAAuD;AACvD,gFAAgF;;;;;AAEhF;AACA,sEAAsE;AACtE,oEAAoE;AACpE,6HAA6H;AAC7H,yGAAyG;AACzG;;;;AAGe,eAAe;IAC5B,uEAAuE;IACvE,MAAM,QAAqB,MAAM,CAAA,GAAA,8IAAA,CAAA,6BAA0B,AAAD;IAE1D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAG,WAAU;kCAAqD;;;;;;kCACnE,8OAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;0BAK/C,8OAAC;gBAAQ,WAAU;;kCAKjB,8OAAC;wBAAG,WAAU;kCAA0C;;;;;;oBAEvD,MAAM,MAAM,GAAG,kBACd,8OAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,mIAAA,CAAA,YAAS;gCAAe,MAAM;+BAAf,KAAK,EAAE;;;;;;;;;6CAI3B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAgC;;;;;;0CAG7C,8OAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;;;;;;;;;;;;;AAQzD","debugId":null}}]
}